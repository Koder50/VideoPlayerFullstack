{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/form-field\";\nimport * as i2 from \"@angular/material/button\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/common\";\n\nfunction ChatParticipantListComponent_div_20_video_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"video\", 14);\n    i0.ɵɵelement(1, \"source\", 3);\n    i0.ɵɵtext(2, \" Your browser does not support the video tag. \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const source_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", source_r2, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ChatParticipantListComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ChatParticipantListComponent_div_20_video_1_Template, 3, 1, \"video\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const source_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", source_r2.includes(ctx_r0.searchTerm));\n  }\n}\n\nfunction ChatParticipantListComponent_div_21_video_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"video\", 14);\n    i0.ɵɵelement(1, \"source\", 3);\n    i0.ɵɵtext(2, \" Your browser does not support the video tag. \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const source_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", source_r5, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ChatParticipantListComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ChatParticipantListComponent_div_21_video_1_Template, 3, 1, \"video\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const source_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", source_r5.includes(ctx_r1.searchTerm));\n  }\n}\n\nexport let ChatParticipantListComponent = /*#__PURE__*/(() => {\n  class ChatParticipantListComponent {\n    constructor() {\n      this.headers = [];\n      this.chatParticipants = [];\n      this.chatParticipant = new EventEmitter();\n      this.headerFields = [];\n      this.next = false;\n      this.first = '../../../../assets/skiing.mp4';\n      this.nameOfFirstVideo = \"skiing\";\n      this.second = '../../../../assets/surfing.mp4';\n      this.nameOfSecondVideo = \"surfing\";\n      this.tableOfVideos = ['../../../../assets/skiing.mp4', '../../../../assets/surfing.mp4', '../../../../assets/jogging.mp4', '../../../../assets/skateboarding.mp4'];\n      this.tableOfVideosNames = ['skiing', 'surfing', 'jogging', \"skateboarding\"];\n      this.tableOfVideosNature = ['../../../../assets/falls.mp4', '../../../../assets/falls2.mp4', '../../../../assets/stream.mp4', '../../../../assets/waves.mp4'];\n      this.tableOfVideosNamesNature = ['falls', 'falls2', 'stream', \"waves\"];\n      this.i = 2;\n      this.end = false;\n      this.searchTerm = \"yyyy\";\n    }\n\n    ngOnChanges() {\n      //input is loading some time,here chatParticipants are not empty already after ngOnInit\n      if (this.chatParticipants != undefined && this.chatParticipants) {\n        let chatParticipantNotToDelete = this.chatParticipants.filter(data => {\n          return data.createdAt.slice(0, 13) == new Date(Date.UTC(new Date().getUTCFullYear(), new Date().getUTCMonth(), new Date().getUTCDate(), new Date().getUTCHours(), new Date().getUTCMinutes(), new Date().getUTCSeconds())).toISOString().replace(\"T\", \" \").slice(0, 13);\n        });\n        this.dataSource = new MatTableDataSource(chatParticipantNotToDelete);\n        this.dataSource.sort = this.sort;\n      }\n    }\n\n    ngOnInit() {\n      this.vid = document.getElementsByClassName(\"centerVideo\")[0];\n      this.vid2 = document.getElementsByClassName(\"bottomCenterVideo\")[0]; //this.vid.currentTime = 5;\n      //this.getHeaderFields();\n    }\n\n    getHeaderFields() {\n      this.headerFields = this.headers.map(data => data.fieldName);\n      this.headerFields.push(\"actions\");\n    }\n\n    selectChatParticipant(chatParticipant, action) {\n      if (action == 0 && localStorage.getItem('userEmail') == chatParticipant.speaker || action == 1) this.chatParticipant.emit({\n        chatParticipant,\n        action\n      });\n      if (action == 0) localStorage.setItem('mainPage', \"false\");\n    }\n\n    getViewAndDeleteIfTrue(chatParticipant) {\n      return localStorage.getItem('userEmail') == chatParticipant.speaker;\n    }\n\n    openVideo() {\n      this.vid.src = this.second;\n      this.first = this.vid.src;\n      this.nameOfFirstVideo = this.nameOfSecondVideo;\n      this.nameOfSecondVideo = this.tableOfVideosNames[this.i];\n      this.vid2.src = this.tableOfVideos[this.i];\n      this.second = this.vid2.src;\n      if (this.i < this.tableOfVideosNames.length - 1) this.i++;else this.i = 0;\n    }\n\n    changeSecondVideo() {\n      if (this.tableOfVideosNames[this.i] == this.nameOfFirstVideo) {\n        this.end = true;\n      }\n\n      this.nameOfSecondVideo = this.tableOfVideosNames[this.i];\n      this.vid2.src = this.tableOfVideos[this.i];\n      this.second = this.vid2.src;\n      if (this.i < this.tableOfVideosNames.length - 1) this.i++;else this.i = 0;\n    }\n\n    hide() {\n      return this.vid.currentTime > 0;\n    }\n\n    valueChange(searchValue) {\n      console.log(searchValue.data);\n    }\n\n  }\n\n  ChatParticipantListComponent.ɵfac = function ChatParticipantListComponent_Factory(t) {\n    return new (t || ChatParticipantListComponent)();\n  };\n\n  ChatParticipantListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChatParticipantListComponent,\n    selectors: [[\"app-chat-participant-list\"]],\n    viewQuery: function ChatParticipantListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    inputs: {\n      headers: \"headers\",\n      chatParticipants: \"chatParticipants\"\n    },\n    outputs: {\n      chatParticipant: \"chatParticipant\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 22,\n    vars: 11,\n    consts: [[2, \"display\", \"flex\", \"direction\", \"row\", \"justify-content\", \"center\"], [2, \"direction\", \"column\", \"width\", \"800px\"], [\"width\", \"640\", \"height\", \"360\", \"controls\", \"\", 1, \"centerVideo\", 2, \"display\", \"block\", \"margin-left\", \"auto\", \"margin-right\", \"auto\"], [\"type\", \"video/mp4\", 3, \"src\"], [\"color\", \"primary\", 2, \"display\", \"block\", \"text-align\", \"center\", \"margin-top\", \"48px\", \"margin-bottom\", \"48px\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 2, \"margin-left\", \"24px\", \"margin-right\", \"12px\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 2, \"margin-left\", \"12px\", \"margin-right\", \"24px\", 3, \"click\"], [\"width\", \"640\", \"height\", \"360\", \"controls\", \"\", 1, \"bottomCenterVideo\", 2, \"display\", \"block\", \"margin-left\", \"auto\", \"margin-right\", \"auto\", 3, \"click\"], [2, \"width\", \"400px\", \"direction\", \"column\"], [1, \"example-form\"], [1, \"searchingPhrase\"], [\"matInput\", \"\", \"placeholder\", \"Ex. Skiing\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"width\", \"320\", \"height\", \"180\", \"controls\", \"\", \"style\", \"margin-left: auto; margin-right: auto;  margin-bottom: 48px;\", \"class\", \"centerVideo\", 4, \"ngIf\"], [\"width\", \"320\", \"height\", \"180\", \"controls\", \"\", 1, \"centerVideo\", 2, \"margin-left\", \"auto\", \"margin-right\", \"auto\", \"margin-bottom\", \"48px\"]],\n    template: function ChatParticipantListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"video\", 2);\n        i0.ɵɵelement(3, \"source\", 3);\n        i0.ɵɵtext(4, \" Your browser does not support the video tag. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-label\", 4);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementStart(7, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function ChatParticipantListComponent_Template_button_click_7_listener() {\n          ctx.next = true;\n          return ctx.openVideo();\n        });\n        i0.ɵɵtext(8, \"Yes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ChatParticipantListComponent_Template_button_click_9_listener() {\n          ctx.next = false;\n          return ctx.changeSecondVideo();\n        });\n        i0.ɵɵtext(10, \"No\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"video\", 7);\n        i0.ɵɵlistener(\"click\", function ChatParticipantListComponent_Template_video_click_11_listener() {\n          ctx.next = true;\n          return ctx.openVideo();\n        });\n        i0.ɵɵelement(12, \"source\", 3);\n        i0.ɵɵtext(13, \" Your browser does not support the video tag. \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 8)(15, \"form\", 9)(16, \"mat-form-field\", 10)(17, \"mat-label\");\n        i0.ɵɵtext(18, \"Search for\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ChatParticipantListComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(20, ChatParticipantListComponent_div_20_Template, 2, 1, \"div\", 12);\n        i0.ɵɵtemplate(21, ChatParticipantListComponent_div_21_Template, 2, 1, \"div\", 12);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.first, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"hidden1\", !ctx.hide() || ctx.end);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate2(\"If you like \", ctx.nameOfFirstVideo, \", maybe you would like to see this \", ctx.nameOfSecondVideo, \"? \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵclassProp(\"hidden1\", !ctx.hide() || ctx.end);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.second, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tableOfVideos);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.tableOfVideosNature);\n      }\n    },\n    directives: [i1.MatLabel, i2.MatButton, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i1.MatFormField, i4.MatInput, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i5.NgForOf, i5.NgIf],\n    styles: [\"table[_ngcontent-%COMP%]{width:100%}.chatParticipantElement[_ngcontent-%COMP%]{padding-right:24px;padding-top:24px;padding-bottom:24px}.chatParticipantsRow[_ngcontent-%COMP%]{white-space:pre-line;min-height:48px;max-height:1030px}.chatParticipantsCell[_ngcontent-%COMP%]{min-height:48px;max-height:1030px}.hidden1[_ngcontent-%COMP%]{display:none!important}\"]\n  });\n  return ChatParticipantListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}